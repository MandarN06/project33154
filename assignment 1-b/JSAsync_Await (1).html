<html>
    <script>
        const posts = [
            {title: 'Async_Post_title#1', body:'I am body of post 1'},
            {title: 'Async_Post_title#2', body:'I am body of post 2'}
        ];

        function getPosts(){
            setTimeout(function(){
                let output = '';
                posts.forEach((post) => {
                    output += post.title + "<br>";
                });
                document.write("<div style='width:50%;margin:5% auto;font-size:40px;border:5px solid blue;'>" 
                    + output + "</div>");
            },1000)
        }

        function createPost(post){
            return new Promise((resolve,reject) => {
                    setTimeout(() => {
                    posts.push(post);
                    resolve();
                    reject("Its an error");
                }, 2000);
            });
        }

        //getPosts();
        async function myAsyncFunction(){
            await createPost({title:'Async_Post_title#3', body: 'I am body of post 3'})
            
            getPosts();
        }
        
        myAsyncFunction();
    </script>
</html>

