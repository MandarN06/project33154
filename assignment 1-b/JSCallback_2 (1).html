<html>
    <script>
        const posts = [
            {title: 'title#1', body:'I am body of post 1'},
            {title: 'title#2', body:'I am body of post 2'}
        ];

        function getPosts(){
            setTimeout(function(){
                let output = '';
                posts.forEach((post) => {
                    output += post.title + "<br>";
                });
                document.write(output);
            },1000)
        }

        function createPost(post,callback){
            setTimeout(() => {
                posts.push(post);
                callback();
            }, 2000);
        }

        //getPosts();
        createPost({title:'title#3', body: 'I am body of post 3'},getPosts)
    </script>
</html>

